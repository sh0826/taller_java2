<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/templates/adminLayout.xhtml">

    <ui:define name="contenido">

        <style>
            .form-container {
                width: 60%;
                margin: 30px auto;
                background: #1a1a1a;
                padding: 35px;
                border-radius: 10px;
                border: 1px solid #333;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .form-title {
                text-align: center;
                color: #C89B3C;
                font-size: 28px;
                font-weight: bold;
                margin-bottom: 25px;
            }

            .form-group {
                width: 80%;
                margin-bottom: 20px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .form-label {
                color: #C89B3C;
                font-weight: bold;
                margin-bottom: 8px;
                width: 100%;
                text-align: left;
            }

            .form-control,
            .form-select {
                width: 100%;
                padding: 10px 12px;
                background: #262626;
                color: #eee;
                border: 1px solid #444;
                border-radius: 5px;
            }

            .form-control:focus,
            .form-select:focus {
                outline: none;
                border-color: #C89B3C;
                box-shadow: 0 0 5px rgba(200, 155, 60, 0.3);
            }

            .text-danger {
                color: #ff4b4b;
                font-size: 12px;
                margin-top: 4px;
            }

            .button-group {
                margin-top: 25px;
                text-align: center;
            }

            .boton {
                background: #6D0823;
                color: #eee;
                padding: 12px 25px;
                margin: 5px 10px;
                border-radius: 5px;
                border: none;
                cursor: pointer;
                font-size: 16px;
                transition: 0.2s;
            }

            .boton:hover {
                background: #C89B3C;
                color: black;
                font-weight: bold;
            }

            .boton-cancelar {
                background: #555;
            }

            .boton-cancelar:hover {
                background: #777;
            }
        </style>

        <h2 class="form-title">Editar Usuario</h2>
        
        <f:event type="preRenderView" listener="#{usuarioBean.verificarUsuarioCargado()}" />

        <h:form>
            <div class="form-container">
                <h:messages styleClass="text-danger" style="margin-bottom: 20px;" />
                <h:inputHidden value="#{usuarioBean.usuario.id_usuario}" />
                <h:inputHidden value="#{usuarioBean.usuario.pass1}" />

                <!-- DOCUMENTO -->
                <div class="form-group">
                    <label class="form-label" for="doc">Documento:</label>
                    <h:inputText id="doc" value="#{usuarioBean.usuario.documento}"
                                 styleClass="form-control"
                                 required="true"
                                 requiredMessage="Debe especificar un Documento" />
                    <h:message for="doc" styleClass="text-danger" />
                </div>

                <!-- NOMBRE -->
                <div class="form-group">
                    <label class="form-label" for="nom">Nombre del Usuario:</label>
                    <h:inputText id="nom" value="#{usuarioBean.usuario.nombre_completo}"
                                 styleClass="form-control"
                                 required="true"
                                 requiredMessage="Debe especificar un Nombre" />
                    <h:message for="nom" styleClass="text-danger" />
                </div>

                <!-- CORREO -->
                <div class="form-group">
                    <label class="form-label" for="cor">Correo:</label>
                    <h:inputText id="cor" value="#{usuarioBean.usuario.correo}"
                                 styleClass="form-control" />
                    <h:message for="cor" styleClass="text-danger" />
                </div>

                <!-- CONTRASEÑA -->
                <div class="form-group">
                    <label class="form-label" for="pas">Contraseña:</label>
                    <h:inputSecret id="pas" value="#{usuarioBean.usuario.pass}"
                                   styleClass="form-control" />
                    <h:message for="pas" styleClass="text-danger" />
                </div>

                <!-- TIPO -->
                <div class="form-group">
                    <label class="form-label" for="tipo">Tipo de Usuario:</label>
                    <h:selectOneMenu id="tipo" value="#{usuarioBean.usuario.tipo}"
                                     styleClass="form-select">
                        <f:selectItem itemValue="A" itemLabel="Administrador" />
                        <f:selectItem itemValue="C" itemLabel="Cliente" />
                        <f:selectItem itemValue="E" itemLabel="Empleado" />
                    </h:selectOneMenu>
                    <h:message for="tipo" styleClass="text-danger" />
                </div>

                <!-- BOTONES -->
                <div class="button-group">
                    <h:commandButton value="Actualizar" styleClass="boton"
                                     action="#{usuarioBean.actualizar()}" />

                    <h:commandButton value="Cancelar"
                                     styleClass="boton boton-cancelar"
                                     action="index"
                                     immediate="true" />
                </div>

            </div>
        </h:form>

    </ui:define>
</ui:composition>
