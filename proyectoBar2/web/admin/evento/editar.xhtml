<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="/templates/adminLayout.xhtml" xmlns:p="http://primefaces.org/ui">

    <ui:define name="contenido">
        <style>
            .form-container {
                width: 60%;
                margin: 30px auto;
                background: #1a1a1a;
                padding: 35px;
                border-radius: 10px;
                border: 1px solid #333;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .form-title {
                text-align: center;
                color: #C89B3C;
                font-size: 28px;
                font-weight: bold;
                margin-bottom: 25px;
            }

            .form-group {
                width: 80%;
                margin-bottom: 20px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .form-label {
                color: #C89B3C;
                font-weight: bold;
                margin-bottom: 8px;
                width: 100%;
                text-align: left;
            }

            .form-control,
            .form-select {
                width: 100%;
                padding: 10px 12px;
                background: #262626;
                color: #eee;
                border: 1px solid #444;
                border-radius: 5px;
            }

            .form-control:focus,
            .form-select:focus {
                outline: none;
                border-color: #C89B3C;
                box-shadow: 0 0 5px rgba(200, 155, 60, 0.3);
            }

            .text-danger {
                color: #ff4b4b;
                font-size: 12px;
                margin-top: 4px;
            }

            .button-group {
                margin-top: 25px;
                text-align: center;
            }

            .boton {
                background: #6D0823;
                color: #eee;
                padding: 12px 25px;
                margin: 5px 10px;
                border-radius: 5px;
                border: none;
                cursor: pointer;
                font-size: 16px;
                transition: 0.2s;
            }

            .boton:hover {
                background: #C89B3C;
                color: black;
                font-weight: bold;
            }

            .boton-cancelar {
                background: #555;
            }

            .boton-cancelar:hover {
                background: #777;
            }
        </style>

        <h2 class="form-title">Editar Evento</h2>

        <h:form enctype="multipart/form-data" id="frmEditar">
            <div class="form-container">
                <h:messages globalOnly="false" styleClass="alert" errorClass="alert-danger" infoClass="alert-info"
                    warnClass="alert-warning" />
                <h:inputHidden value="#{eventoBean.evento.id_evento}" />
                <h:inputHidden value="#{eventoBean.evento.imagen}" />

                <!-- NOMBRE -->
                <div class="form-group">
                    <label class="form-label" for="nom">Nombre:</label>
                    <h:inputText id="nom" value="#{eventoBean.evento.nombre_evento}" styleClass="form-control"
                        required="true" requiredMessage="Debe especificar un Nombre" />
                    <h:message for="nom" styleClass="text-danger" />
                </div>

                <!-- CAPACIDAD -->
                <div class="form-group">
                    <label class="form-label" for="capa">Capacidad M치xima:</label>
                    <h:inputText id="capa" value="#{eventoBean.evento.capacidad_maxima}" styleClass="form-control"
                        required="true" requiredMessage="Debe especificar una Capacidad M치xima">
                        <f:convertNumber integerOnly="true" />
                    </h:inputText>
                    <h:message for="capa" styleClass="text-danger" />
                </div>

                <!-- DESCRIPCION -->
                <div class="form-group">
                    <label class="form-label" for="des">Descripci칩n:</label>
                    <h:inputText id="des" value="#{eventoBean.evento.descripcion}" styleClass="form-control"
                        required="true" requiredMessage="Debe especificar una Descripci칩n" />
                    <h:message for="des" styleClass="text-danger" />
                </div>

                <!-- FECHA -->
                <div class="form-group">
                    <label class="form-label" for="fec">Fecha:</label>
                    <h:inputText id="fec" value="#{eventoBean.evento.fecha}" styleClass="form-control" required="true"
                        requiredMessage="Debe especificar una Fecha">
                        <f:convertDateTime pattern="yyyy-MM-dd" />
                    </h:inputText>
                    <h:message for="fec" styleClass="text-danger" />
                </div>

                <!-- HORA -->
                <div class="form-group">
                    <label class="form-label" for="hora">Hora de Inicio:</label>
                    <h:inputText id="hora" value="#{eventoBean.horaInicioDate}" styleClass="form-control"
                        required="true" requiredMessage="Debe especificar una Hora">
                        <f:convertDateTime pattern="HH:mm" type="time" />
                    </h:inputText>
                    <h:message for="hora" styleClass="text-danger" />
                </div>

                <!-- PRECIO -->
                <div class="form-group">
                    <label class="form-label" for="pre">Precio de Boleta:</label>
                    <h:inputText id="pre" value="#{eventoBean.evento.precio_boleta}" styleClass="form-control"
                        required="true" requiredMessage="Debe especificar un Precio de Boleta" />
                    <h:message for="pre" styleClass="text-danger" />
                </div>

                <!-- IMAGEN -->
                <div class="form-group">
                    <label class="form-label">Imagen Actual:</label>
                    <img src="#{eventoBean.evento.imagen}" alt="Imagen Evento" height="50"
                        style="border: 1px solid #444;" />
                </div>

                <div class="form-group">
                    <label class="form-label" for="img">Cargar Nueva Imagen:</label>
                    <h:inputFile id="img" value="#{eventoBean.imagen}" styleClass="form-control" />
                    <h:message for="img" styleClass="text-danger" />
                </div>

                <!-- BOTONES -->
                <div class="button-group">
                    <h:commandButton value="Actualizar" styleClass="boton" action="#{eventoBean.actualizar()}"
                        id="btnActualizar" />
                    <h:commandButton value="Cancelar" styleClass="boton boton-cancelar" action="index"
                        immediate="true" />
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>